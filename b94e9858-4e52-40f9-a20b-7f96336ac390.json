[ {
  "defaultTab" : "nodes",
  "description" : "Deploys a 3 node single vNIC CNC Cluster\n---\n***Environment*** - create and manage environments (PODs) using `CNC/PODs`<br>\n***Version*** - create and manage versions (releases) using `CNC/Setup`",
  "executionEnabled" : true,
  "group" : "CNC/Deploy/CNC - Dual vNIC",
  "id" : "b94e9858-4e52-40f9-a20b-7f96336ac390",
  "loglevel" : "INFO",
  "maxMultipleExecutions" : "0",
  "multipleExecutions" : true,
  "name" : "CNC - 3 Node Cluster (2 nic) v2",
  "nodeFilterEditable" : false,
  "options" : [ {
    "description" : "> If no options present, create the POD definiting using Job `Create POD`",
    "enforced" : true,
    "label" : "CNC POD",
    "name" : "controller-vip",
    "required" : true,
    "valuesUrl" : "file:/opt/cw/options/cw-environments.json"
  }, {
    "description" : "Execute command or just generate it.\n- Generate (default) Show the command line that needs to be run, but the user\n- Execute - Generate the command line and run it on the local system",
    "enforced" : true,
    "name" : "Option",
    "required" : true,
    "value" : "Execute",
    "values" : [ "Execute", "Generate" ],
    "valuesListDelimiter" : ","
  }, {
    "description" : "> /opt/cw/options/cw-images.json",
    "name" : "image-file",
    "required" : true,
    "valuesUrl" : "file:/opt/cw/options/cw-images.json"
  }, {
    "enforced" : true,
    "label" : "Deployment Size",
    "name" : "deployment-size",
    "required" : true,
    "value" : "small",
    "values" : [ "large", "small" ],
    "valuesListDelimiter" : ","
  }, {
    "enforced" : true,
    "label" : "Memory",
    "name" : "deployment-size-mem",
    "required" : true,
    "valuesUrl" : "file:/opt/cw/options/cw-deployment-${option.deployment-size.value}-mem.json"
  }, {
    "enforced" : true,
    "label" : "CPU",
    "name" : "deployment-size-cpu",
    "required" : true,
    "valuesUrl" : "file:/opt/cw/options/cw-deployment-${option.deployment-size.value}-cpu.json"
  }, {
    "description" : "`Hybrid`, Master or Worker",
    "enforced" : true,
    "name" : "node-type",
    "required" : true,
    "value" : "Hybrid",
    "values" : [ "Hybrid", "Master", "Standalone", "Worker" ],
    "valuesListDelimiter" : ","
  }, {
    "description" : "- thin - lab only, meaning disk is thin provisioned\n- thick - production, meaning disk is fully allocated before usage",
    "enforced" : true,
    "label" : "Virtual Disk Mode",
    "name" : "disk-mode",
    "required" : true,
    "value" : "thin",
    "values" : [ "thick", "thin" ],
    "valuesListDelimiter" : ","
  }, {
    "description" : "- IPv4 Network (2 vNIC)\n- IPv4 Network on a Single Interface (1 vNIC) - LAB only.",
    "enforced" : true,
    "label" : "Deployment Type",
    "name" : "deployment-option",
    "required" : true,
    "value" : "cw-ipv4",
    "valuesUrl" : "file:/opt/cw/options/cw-deployment-option.json"
  }, {
    "description" : "default is `50`",
    "label" : "% Reserved for backup",
    "name" : "backup-percentage",
    "required" : true,
    "value" : "50",
    "values" : [ "20", "50" ],
    "valuesListDelimiter" : ","
  }, {
    "delimiter" : ",",
    "description" : "If planning to change the VM resources, ensure \"PowerON\" is not selected. After deployment, govc will modify the resources.",
    "multivalued" : true,
    "name" : "ovf-options",
    "required" : true,
    "valuesUrl" : "file:/opt/cw/options/ovf-deploy-options.json"
  }, {
    "label" : "OVF Extra Configuration Options",
    "name" : "ovf-extra-config",
    "required" : true,
    "value" : "default",
    "values" : [ "advanced", "default" ],
    "valuesListDelimiter" : ","
  }, {
    "delimiter" : ",",
    "enforced" : true,
    "multivalued" : true,
    "name" : "ovf-extra-config-options",
    "required" : true,
    "valuesUrl" : "file:/opt/cw/options/extra-config-options.${option.ovf-extra-config.value}.json"
  }, {
    "label" : "CNC hostname",
    "name" : "host-name-1",
    "value" : "cw01"
  }, {
    "label" : "CNC hostname 2",
    "name" : "host-name-2",
    "value" : "cw02"
  }, {
    "label" : "CNC hostname 3",
    "name" : "host-name-3",
    "value" : "cw03"
  }, {
    "enforced" : true,
    "label" : "Role for Netbox",
    "name" : "vm-role",
    "required" : true,
    "value" : "1",
    "valuesUrl" : "file:/opt/cw/options/roles.json"
  }, {
    "description" : "DNS Domain name as defined in DNS. This should be pre-existing",
    "label" : "Domain Name",
    "name" : "domain-name",
    "required" : true,
    "valuesUrl" : "file:/opt/cw/options/domains.json"
  }, {
    "description" : "If present, it must be existing and resolvable. Otherwise keep blank to use by IP\n> If it does not exist then the deployment will fail.",
    "hidden" : true,
    "label" : "Controller IP DNS Name",
    "name" : "controller-vip-name",
    "required" : true,
    "value" : "${option.controller-vip}"
  }, {
    "description" : "If present, it must be existing and resolvable. Otherwise keep blank to use by IP\n> If it does not exist then the deployment will fail.",
    "hidden" : true,
    "label" : "Data VIP DNS Name",
    "name" : "data-vip-name",
    "required" : true,
    "value" : "${option.controller-vip}"
  }, {
    "hidden" : true,
    "label" : "Data VIP",
    "name" : "data-vip",
    "required" : true,
    "value" : "${option.controller-vip}"
  }, {
    "delimiter" : ",",
    "description" : "> /opt/cw/dns-server.json\nSelect `new value` to add entry",
    "label" : "DNS Server",
    "multivalued" : true,
    "name" : "dns-server",
    "required" : true,
    "valuesUrl" : "file:/opt/cw/options/dns-servers.json"
  }, {
    "delimiter" : ",",
    "description" : "> /opt/cw/ntp-servers.json\nSelect `new value` to add entry",
    "label" : "NTP Server",
    "multivalued" : true,
    "name" : "ntp-server",
    "required" : true,
    "valuesUrl" : "file:/opt/cw/options/ntp-servers.json"
  }, {
    "delimiter" : ",",
    "enforced" : true,
    "label" : "Virtual Networking Options",
    "multivalued" : true,
    "name" : "vnic-options",
    "required" : true,
    "valuesUrl" : "file:/opt/cw/options/vnic-options.json"
  }, {
    "label" : "VM Datastore 1",
    "name" : "datastore-1",
    "required" : true,
    "valuesUrl" : "file:/tmp/datastores.json"
  }, {
    "label" : "VM Datastore 2",
    "name" : "datastore-2",
    "required" : true,
    "valuesUrl" : "file:/tmp/datastores.json"
  }, {
    "label" : "VM Datastore 3",
    "name" : "datastore-3",
    "required" : true,
    "valuesUrl" : "file:/tmp/datastores.json"
  }, {
    "label" : "VMware ESX host 1",
    "name" : "vmware-esx-host-1",
    "required" : true,
    "valuesUrl" : "file:/tmp/hosts.json"
  }, {
    "label" : "VMware ESX host 2",
    "name" : "vmware-esx-host-2",
    "required" : true,
    "valuesUrl" : "file:/tmp/hosts.json"
  }, {
    "label" : "VMware ESX host 3",
    "name" : "vmware-esx-host-3",
    "required" : true,
    "valuesUrl" : "file:/tmp/hosts.json"
  }, {
    "label" : "Management Network",
    "name" : "vnic-1-network-1",
    "valuesUrl" : "file:/tmp/networks.json"
  }, {
    "label" : "Data / Device Network",
    "name" : "vnic-2-network-1",
    "valuesUrl" : "file:/tmp/networks.json"
  }, {
    "hidden" : true,
    "name" : "cw-admin-password",
    "required" : true,
    "secure" : true,
    "storagePath" : "keys/cw/cw-admin",
    "valueExposed" : true
  }, {
    "hidden" : true,
    "name" : "admin-password",
    "required" : true,
    "secure" : true,
    "storagePath" : "keys/cw/admin",
    "valueExposed" : true
  }, {
    "hidden" : true,
    "name" : "vcenter-host",
    "secure" : true,
    "storagePath" : "keys/vmware/vc-address",
    "valueExposed" : true
  }, {
    "hidden" : true,
    "name" : "vcenter-password",
    "required" : true,
    "secure" : true,
    "storagePath" : "keys/vmware/vc-password",
    "valueExposed" : true
  }, {
    "hidden" : true,
    "name" : "vcenter-username",
    "required" : true,
    "secure" : true,
    "storagePath" : "keys/vmware/vc-user",
    "valueExposed" : true
  }, {
    "description" : "***Dynamic*** - IP Addressing from Netbox\n***Static*** - IP Addressing entered by user",
    "enforced" : true,
    "label" : "Network Options for Management Network",
    "name" : "vnic-0-static",
    "required" : true,
    "value" : "static",
    "values" : [ "dynamic", "static" ],
    "valuesListDelimiter" : ","
  }, {
    "description" : "IP Address for Management Interface",
    "label" : "Node 1 IP",
    "name" : "vnic-0-ip-1",
    "required" : true
  }, {
    "description" : "IP Address for Management Interface",
    "label" : "Node 2 IP",
    "name" : "vnic-0-ip-2",
    "required" : true
  }, {
    "description" : "IP Address for Management Interface",
    "label" : "Node 3 IP",
    "name" : "vnic-0-ip-3",
    "required" : true
  }, {
    "description" : "Subnet Mask",
    "label" : "Management - Mask",
    "name" : "vnic-0-mask",
    "required" : true,
    "value" : "255.255.255.0"
  }, {
    "description" : "Gateway IP",
    "label" : "Management - Gateway",
    "name" : "vnic-0-gateway",
    "required" : true
  }, {
    "description" : "***Dynamic*** - IP Addressing from Netbox\n***Static*** - IP Addressing entered by user",
    "enforced" : true,
    "label" : "Network Options for Data Network",
    "name" : "vnic-1-static",
    "required" : true,
    "value" : "static",
    "values" : [ "dynamic", "static" ],
    "valuesListDelimiter" : ","
  }, {
    "description" : "IP Address for Data Interface",
    "label" : "Node 1 Data IP",
    "name" : "vnic-1-ip-1",
    "required" : true
  }, {
    "description" : "IP Address for Data Interface",
    "label" : "Node 2 Data IP",
    "name" : "vnic-1-ip-2",
    "required" : true
  }, {
    "description" : "IP Address for Data Interface",
    "label" : "Node 3 Data IP",
    "name" : "vnic-1-ip-3",
    "required" : true
  }, {
    "description" : "Subnet Mask",
    "label" : "DATA - Mask",
    "name" : "vnic-1-mask",
    "required" : true,
    "value" : "255.255.255.0"
  }, {
    "description" : "Gateway IP",
    "label" : "DATA - Gateway",
    "name" : "vnic-1-gateway",
    "required" : true
  }, {
    "label" : "User Disclaimer",
    "name" : "disclaimer",
    "required" : true,
    "valuesUrl" : "file:/opt/cw/options/disclaimers.json"
  } ],
  "plugins" : {
    "ExecutionLifecycle" : null
  },
  "scheduleEnabled" : true,
  "sequence" : {
    "commands" : [ {
      "configuration" : {
        "debugOnly" : "false"
      },
      "nodeStep" : false,
      "type" : "log-data-step"
    }, {
      "description" : "deploy node 1 - seed node",
      "jobref" : {
        "args" : "-seed-node True -host-name ${option.host-name-1} -vnic-0-ip ${option.vnic-0-ip-1} -vnic-1-ip ${option.vnic-1-ip-1} -datastore-1 ${option.datastore-1} -vmware-esx-host ${option.vmware-esx-host-1} -vnic-1-network ${option.vnic-1-network-1} -vnic-2-network ${option.vnic-2-network-1}",
        "group" : "CNC/Deploy/CNC",
        "importOptions" : true,
        "name" : "CNC - Single Node (2 nic) v2",
        "uuid" : "8a3d6b5a-34d3-49e1-a187-4371fb9815ac"
      }
    }, {
      "description" : "deploy node 2",
      "jobref" : {
        "args" : "-seed-node False -host-name ${option.host-name-2} -vnic-0-ip ${option.vnic-0-ip-2} -vnic-1-ip ${option.vnic-1-ip-2} -datastore-1 ${option.datastore-2} -vmware-esx-host ${option.vmware-esx-host-2} -vnic-1-network ${option.vnic-1-network-1} -vnic-2-network ${option.vnic-2-network-1}",
        "group" : "CNC/Deploy/CNC",
        "importOptions" : true,
        "name" : "CNC - Single Node (2 nic) v2",
        "uuid" : "8a3d6b5a-34d3-49e1-a187-4371fb9815ac"
      }
    }, {
      "description" : "deploy node 2",
      "jobref" : {
        "args" : "-seed-node False -host-name ${option.host-name-3} -vnic-0-ip ${option.vnic-0-ip-3} -vnic-1-ip ${option.vnic-1-ip-3} -datastore-1 ${option.datastore-3} -vmware-esx-host ${option.vmware-esx-host-3} -vnic-1-network ${option.vnic-1-network-1} -vnic-2-network ${option.vnic-2-network-1}",
        "group" : "CNC/Deploy/CNC",
        "importOptions" : true,
        "name" : "CNC - Single Node (2 nic) v2",
        "uuid" : "8a3d6b5a-34d3-49e1-a187-4371fb9815ac"
      }
    } ],
    "keepgoing" : false,
    "strategy" : "parallel"
  },
  "uuid" : "b94e9858-4e52-40f9-a20b-7f96336ac390"
} ]
