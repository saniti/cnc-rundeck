[ {
  "defaultTab" : "nodes",
  "description" : "NSO CNC version info.\n---\n## Expectations\n### Images\n- Relevant images located under `/opt/cw/images` as OVA files\n### Applications\n- Relevant applications located under `/opt/cw/install` as .tar.tz files",
  "executionEnabled" : true,
  "group" : "CNC/Setup",
  "id" : "f0213e3f-4322-4acc-8111-7d57c1bff65d",
  "loglevel" : "INFO",
  "name" : "NSO Version Management - add",
  "nodeFilterEditable" : false,
  "options" : [ {
    "label" : "Friendly Name for Release",
    "name" : "friendly-name",
    "required" : true
  }, {
    "description" : "> used for the on-disk location of data",
    "label" : "Internal Name",
    "name" : "nso-value",
    "required" : true
  }, {
    "description" : "> choose the NSO Installation file",
    "enforced" : true,
    "label" : "NSO Deployment Image",
    "name" : "nso-image-file",
    "required" : true,
    "valuesUrl" : "file:/opt/cw/options/images-files-bin.json"
  }, {
    "delimiter" : ",",
    "description" : "> Select all of the NSO packages",
    "enforced" : true,
    "label" : "CNC DLM Package file",
    "multivalued" : true,
    "name" : "nso-packages",
    "required" : true,
    "valuesUrl" : "file:/opt/cw/options/images-files-nso.json"
  }, {
    "description" : "Selected by default? `true` = yes, `false` = no.",
    "enforced" : true,
    "label" : "Set Default",
    "name" : "default",
    "required" : true,
    "value" : "false",
    "values" : [ "false", "true" ],
    "valuesListDelimiter" : ","
  } ],
  "plugins" : {
    "ExecutionLifecycle" : null
  },
  "scheduleEnabled" : true,
  "sequence" : {
    "commands" : [ {
      "description" : "Add new entry",
      "script" : "file=/opt/cw/options/nso-versions.json\nfiletmp=/opt/cw/tmp/nso-versions.tmp\nif [ ! -f \"$file\" ]; then echo \"[]\" > \"$file\"; fi\njq '. += [{\"name\":\"@option.friendly-name@\",\"value\":\"@option.friendly-name@\",\"friendly\":\"@option.nso-value@\",\"nso-image\":\"@option.nso-image-file@\",\"packages\":\"@unquotedoption.nso-packages@\",\"selected\":@option.default@}]' $file > $filetmp\n\\cp $filetmp $file\n"
    } ],
    "keepgoing" : false,
    "strategy" : "node-first"
  },
  "uuid" : "f0213e3f-4322-4acc-8111-7d57c1bff65d"
} ]
