- defaultTab: nodes
  description: "OVF Command line builder for Crosswork\n---\n## Steps to use\n1. do\
    \ this\n2. do that\n3. enter IP address\n4. enter management address\n5. check\
    \ to see if ... \n## Features\n- Create an OVF command line for deploying a crosswork\
    \ cluster vm"
  executionEnabled: true
  group: CNC/Deploy/CNC
  id: 129f0577-454b-4cdc-87c6-446e5544e173
  loglevel: INFO
  maxMultipleExecutions: '3'
  multipleExecutions: true
  name: CNC - Cluster
  nodeFilterEditable: false
  options:
  - description: |-
      Execute command or just generate it.
      - Generate (default) Show the command line that needs to be run, but the user
      - Execute - Generate the command line and run it on the local system
    enforced: true
    name: Option
    required: true
    value: Execute
    values:
    - Execute
    - Generate
    valuesListDelimiter: ','
  - enforced: true
    name: image-file
    required: true
    valuesUrl: file:/opt/cw/options/cw-images.json
  - description: '`Hybrid`, Master or Worker'
    enforced: true
    hidden: true
    name: node-type
    required: true
    value: Hybrid
    values:
    - Hybrid
    - Master
    - Standalone
    - Worker
    valuesListDelimiter: ','
  - description: 'thin, `thick`'
    enforced: true
    label: Virtual Disk Mode
    name: disk-mode
    required: true
    value: thick
    values:
    - thick
    - thin
    valuesListDelimiter: ','
  - enforced: true
    label: Deployment Type
    name: deployment-option
    required: true
    value: onpremise-standard
    valuesUrl: file:/opt/cw/options/cw-deployment-option.json
  - enforced: true
    label: Deployment Size
    name: deployment-size
    required: true
    value: large
    values:
    - large
    - small
    valuesListDelimiter: ','
  - enforced: true
    label: CPU
    name: deployment-size-cpu
    required: true
    valuesUrl: file:/opt/cw/options/cw-deployment-${option.deployment-size.value}-cpu.json
  - enforced: true
    label: Memory
    name: deployment-size-mem
    required: true
    valuesUrl: file:/opt/cw/options/cw-deployment-${option.deployment-size.value}-mem.json
  - description: default is `50`
    label: '% Reserved for backup'
    name: backup-percentage
    required: true
    value: '50'
    values:
    - '20'
    - '50'
    valuesListDelimiter: ','
  - delimiter: ','
    description: 'If planning to change the VM resources, ensure "PowerON" is not
      selected. After deployment, govc will modify the resources.'
    multivalued: true
    name: ovf-options
    required: true
    valuesUrl: file:/opt/cw/options/ovf-deploy-options.json
  - label: OVF Extra Configuration Options
    name: ovf-extra-config
    required: true
    value: default
    values:
    - advanced
    - default
    valuesListDelimiter: ','
  - delimiter: ','
    enforced: true
    multivalued: true
    name: ovf-extra-config-options
    required: true
    valuesUrl: file:/opt/cw/options/extra-config-options.${option.ovf-extra-config.value}.json
  - label: CNC hostname 1
    name: host-name_1
    value: cw01
  - label: VM Datastore for Host 1
    name: datastore-1
    required: true
    valuesUrl: file:/tmp/datastores.json
  - label: VMware ESX host 1
    name: vmware-esx-host_1
    required: true
    valuesUrl: file:/tmp/hosts.json
  - label: CNC hostname 2
    name: host-name_2
    value: cw02
  - label: VM Datastore 2
    name: datastore-2
    required: true
    valuesUrl: file:/tmp/datastores.json
  - label: VMware ESX host 2
    name: vmware-esx-host_2
    required: true
    valuesUrl: file:/tmp/hosts.json
  - label: CNC hostname 3
    name: host-name_3
    value: cw03
  - label: VM Datastore for Host 3
    name: datastore-3
    required: true
    valuesUrl: file:/tmp/datastores.json
  - label: VMware ESX host 3
    name: vmware-esx-host_3
    required: true
    valuesUrl: file:/tmp/hosts.json
  - enforced: true
    label: Role for Netbox
    name: vm-role
    required: true
    value: '1'
    valuesUrl: file:/opt/cw/options/roles.json
  - label: Domain Name
    name: domain-name
    required: true
    value: ntf.local
  - description: 'If present, it must be existing and resolvable. Otherwise keep blank
      to use by IP'
    label: Virtual IP DNS Name
    name: controller-vip-name
    value: cwvip.ntf.local
  - label: Crossworks VIP
    name: controller-vip
    required: true
  - description: 'If present, it must be existing and resolvable. Otherwise keep blank
      to use by IP'
    label: Data VIP DNS Name
    name: data-vip-name
    value: dgvip.ntf.local
  - label: Data VIP
    name: data-vip
    required: true
    value: 192.168.10.x
  - delimiter: ','
    label: DNS Server
    multivalued: true
    name: dns-server
    required: true
    valuesUrl: file:/opt/cw/options/dns-servers.json
  - delimiter: ','
    label: NTP Server
    multivalued: true
    name: ntp-server
    required: true
    valuesUrl: file:/opt/cw/options/ntp-servers.json
  - delimiter: ','
    enforced: true
    label: Virtual Networking Options
    multivalued: true
    name: vnic-options
    required: true
    valuesUrl: file:/opt/cw/options/vnic-options.json
  - label: Management Network
    name: vnic-1-network
    value: /HX-cluster/network/vm-network-411
    valuesUrl: file:/tmp/networks.json
  - label: Data / Device Network
    name: vnic-2-network
    value: /HX-cluster/network/vm-network-413
    valuesUrl: file:/tmp/networks.json
  - hidden: true
    name: cw-admin-password
    required: true
    secure: true
    storagePath: keys/cw/cw-admin
    valueExposed: true
  - hidden: true
    name: admin-password
    required: true
    secure: true
    storagePath: keys/cw/admin
    valueExposed: true
  - hidden: true
    name: vcenter-host
    secure: true
    storagePath: keys/vmware/vcenter
    valueExposed: true
  - hidden: true
    name: vcenter-password
    required: true
    secure: true
    storagePath: keys/vmware/administrator-vc-local
    valueExposed: true
  - hidden: true
    name: vcenter-username
    required: true
    secure: true
    storagePath: keys/vmware/vc-username
    valueExposed: true
  - description: |-
      ***Dynamic*** - IP Addressing from Netbox
      ***Static*** - IP Addressing entered by user
    enforced: true
    label: Network Options for Management Network
    name: vnic-0-static
    required: true
    values:
    - dynamic
    - static
    valuesListDelimiter: ','
  - description: IP Address for Management Interface
    label: Management - IP
    name: vnic-0-ip
    required: true
    valuesUrl: file:/opt/cw/options/vnic-${option.vnic-0-static.value}-ip.json
  - description: Subnet Mask
    label: Management - Mask
    name: vnic-0-mask
    required: true
    valuesUrl: file:/opt/cw/options/vnic-${option.vnic-0-static.value}-mask.json
  - description: Gateway IP
    label: Management - Gateway
    name: vnic-0-gateway
    required: true
    valuesUrl: file:/opt/cw/options/vnic-${option.vnic-0-static.value}-gw.json
  - description: |-
      ***Dynamic*** - IP Addressing from Netbox
      ***Static*** - IP Addressing entered by user
    enforced: true
    label: Network Options for Data Network
    name: vnic-1-static
    required: true
    values:
    - dynamic
    - static
    valuesListDelimiter: ','
  - description: IP Address for Data Interface
    label: DATA - IP
    name: vnic-1-ip
    required: true
    valuesUrl: file:/opt/cw/options/vnic-${option.vnic-1-static.value}-1-ip.json
  - description: Subnet Mask
    label: DATA - Mask
    name: vnic-1-mask
    required: true
    valuesUrl: file:/opt/cw/options/vnic-${option.vnic-1-static.value}-1-mask.json
  - description: Gateway IP
    label: DATA - Gateway
    name: vnic-1-gateway
    required: true
    valuesUrl: file:/opt/cw/options/vnic-${option.vnic-1-static.value}-1-gw.json
  - label: User Disclaimer
    name: disclaimer
    required: true
    value: Authorised usage only
  plugins:
    ExecutionLifecycle: null
  scheduleEnabled: true
  sequence:
    commands:
    - description: deploy node 1
      jobref:
        args: -seed-node True -host-name ${option.host-name_1} -datastore-1 ${option.datastore-1}
          -vmware-esx-host ${option.vmware-esx-host_1}
        group: CNC/Deploy/CNC
        importOptions: true
        name: CNC - Single Node
        uuid: 96b0d720-5fc8-44a5-9a94-effe5c961fa7
    - description: deploy node 2
      jobref:
        args: -seed-node False -host-name ${option.host-name_2} -datastore-1 ${option.datastore-2}
          -vmware-esx-host ${option.vmware-esx-host_2}
        group: CNC/Deploy/CNC
        importOptions: true
        name: CNC - Single Node
        uuid: 96b0d720-5fc8-44a5-9a94-effe5c961fa7
    - description: deploy node 3
      jobref:
        args: -seed-node False -host-name ${option.host-name_3} -datastore-1 ${option.datastore-3}
          -vmware-esx-host ${option.vmware-esx-host_3}
        group: CNC/Deploy/CNC
        importOptions: true
        name: CNC - Single Node
        uuid: 96b0d720-5fc8-44a5-9a94-effe5c961fa7
    keepgoing: false
    strategy: sequential
  uuid: 129f0577-454b-4cdc-87c6-446e5544e173

